<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PROMEX</title>
    <link rel="icon" th:href="@{/img/minilogo.png}">
    <link rel="stylesheet" th:href="@{/css/TablasT.css}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
<style>
.table-wrapper {
    height: 200px;               /* un poco más alto */
    overflow-y: auto;            /* scroll vertical */
    overflow-x: auto;            /* scroll horizontal si necesario */
    padding: 0.3rem;
    background: white;
    font-size: 12px;
    margin: 1px; /* Reduce si es necesario */
    padding: 0;
}

.fixed-table {
    width: 100%;
    border-collapse: collapse;
    table-layout: auto;
    font-size: 12px;
}

.fixed-table th,
.fixed-table td {
    padding: 3px 4px;            /* más legible */
    border: 1px solid #000;
    text-align: center;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

input.plain {
    width: 100%;
    font-size: 12px;
    padding: 2px 3px;
    box-sizing: border-box;
}
.btn-bitacora {
        display: inline-flex;
        align-items: center;
        gap: 5px;
        padding: 6px 12px;
        background-color: #b40202;
        color: white;
        text-decoration: none;
        border-radius: 5px;
        font-size: 14px;
    }

    .btn-bitacora:hover {
        background-color: #45a049;
    }

    .btn-bitacora i {
        font-size: 16px;
    }

</style>


</head>

<body>

    

    <div class="controls">
        <form id="formFiltro" th:action="@{/consulta}" method="post"
            style="display: flex; align-items: center; gap: 0.5rem;">

            <select name="tipoFiltro" id="tipoFiltro" required>
                <option value="tren">Tren</option>
                <option value="batch">Batch</option>
            </select>

            <input type="text" id="campoFiltro" name="filtro" placeholder="Tren/Bacth" th:value="${filtro}" required
                autocomplete="off" style="text-transform: uppercase;" maxlength="8"
                oninput="this.value = this.value.toUpperCase().trim()" />

            <button type="submit" class="fas fa-search">Buscar</button>
        </form>


        <form th:action="@{/guardar}" method="post">
            <button type="submit"><i class="fas fa-save"></i> Guardar</button>
        </form>






        <a href="/docs/tabla.pdf" target="_blank">
            <button type="button">
                <i class="fas fa-question-circle"></i> Ayuda
            </button>
        </a>


        <a th:href="@{/modulos}">
            <button class="boton"><i class="fas fa-sign-out-alt"></i> Salir</button>
        </a>
        <a href="/bitacora" class="btn-bitacora" title="Ver Bitácora">
    <i class="fas fa-book"></i> Bitácora
         </a>



    </div>
    <header>

    </header>

    <div class="tabs">
        <button class="tab-button" onclick="openTab('tab1')">Trenes</button>
        <button class="tab-button" onclick="openTab('tab2')">Batch</button>
    </div>
    <div id="tab1" class="tab-content">
        <div class="container">

            <div class="tabla-grip">
                <div class="columna izquierda">
                 <li class="table-wrapper">
                    <h3>GCCTRNMS00</h3>
                    <table class="fixed-table">
                        <thead>
                            <tr>
                                <th>Train number</th>
                                <th>Train Process</th>
                                <th>Train move st</th>
                                <th>Current Station</th>
                                <th>Next station</th>
                                <th>Current Lock User</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr th:each="r, iterStat : ${trenes}">
                               <td><input class="plain" type="text" th:name="'items[' + ${iterStat.index} + '].ftrntrnñ'" th:value="${r.ftrntrnñ}" th:attr="data-original=${r.ftrntrnñ}" data-tabla="GCCTRNMS00"  maxlength="15" /></td>
                                <td><input class="plain" type="text" th:name="'items[' + ${iterStat.index} + '].ftrntps'"  th:value="${r.ftrntps}"  th:attr="data-original=${r.ftrntps}"  data-tabla="GCCTRNMS00" maxlength="3"  style="background-color: #a2f5b5 !important;"  /></td>
                                <td><input class="plain" type="text" th:name="'items[' + ${iterStat.index} + '].ftrntms'"  th:value="${r.ftrntms}"  th:attr="data-original=${r.ftrntms}"  data-tabla="GCCTRNMS00" maxlength="3"  style="background-color: #a2f5b5 !important;" /></td>
                                <td><input class="plain" type="text" th:name="'items[' + ${iterStat.index} + '].ftrncstn'" th:value="${r.ftrncstn}" th:attr="data-original=${r.ftrncstn}" data-tabla="GCCTRNMS00" maxlength="3"  style="background-color: #a2f5b5 !important;" /></td>
                                <td><input class="plain" type="text" th:name="'items[' + ${iterStat.index} + '].ftrnnstn'" th:value="${r.ftrnnstn}" th:attr="data-original=${r.ftrnnstn}" data-tabla="GCCTRNMS00"  /></td>
                                <td><input class="plain" type="text" th:name="'items[' + ${iterStat.index} + '].ftrnclu'"  th:value="${r.ftrnclu}"  th:attr="data-original=${r.ftrnclu}"  data-tabla="GCCTRNMS00"/></td> 
                            </tr>
                        </tbody>
                    </table>
                </li>
                 <li class="table-wrapper">
                    <h3>T03OG3P</h3>
                    <table class="fixed-table">
                        <thead>
                            <tr>
                                <th>Plant code</th>
                                <th>O/G# SHIP C</th>
                                <th>From KD lot</th>
                                <th>To KD lot</th>
                                <th>Train status</th>
                                <th>Train Build Flag</th>
                                <th>Delivery Location</th>
                                <th>Staging Station</th>
                                <th>Tugger Driv User Id</th>
                                <th>Scheduled Dispatch Date</th>
                                <th>Scheduled Dispatch Time</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr th:each="r, iterStat: ${t03}">
                                <td style="display:none;"><input type="hidden" th:name="'items[' + ${iterStat.index} + '].spare3'" th:value="${r.spare3}" th:attr="data-original=${r.spare3}" data-tabla="T03OG3P"/></td>
                            <td><input class="plain" type="text" th:name="'items[' + ${iterStat.index} + '].ogplcd'" th:value="${r.ogplcd}" th:attr="data-original=${r.ogplcd}" data-tabla="T03OG3P" maxlength="2" /></td>
                            <td><input class="plain" type="text" th:name="'items[' + ${iterStat.index} + '].ogsctg'" th:value="${r.ogsctg}" th:attr="data-original=${r.ogsctg}" data-tabla="T03OG3P" maxlength="2"  /></td>
                            <td><input class="plain" type="text" th:name="'items[' + ${iterStat.index} + '].kdrrnf'" th:value="${r.kdrrnf}" th:attr="data-original=${r.kdrrnf}" data-tabla="T03OG3P" maxlength="6" /></td>
                            <td><input class="plain" type="text" th:name="'items[' + ${iterStat.index} + '].kdrrnt'" th:value="${r.kdrrnt}" th:attr="data-original=${r.kdrrnt}" data-tabla="T03OG3P" maxlength="4" /></td>
                            <td><input class="plain" type="text" th:name="'items[' + ${iterStat.index} + '].trnsts'" th:value="${r.trnsts}" th:attr="data-original=${r.trnsts}" data-tabla="T03OG3P" maxlength="1" style="background-color: #a2f5b5 !important;" /></td>
                            <td><input class="plain" type="text" th:name="'items[' + ${iterStat.index} + '].trnbld'" th:value="${r.trnbld}" th:attr="data-original=${r.trnbld}" data-tabla="T03OG3P" maxlength="1" style="background-color: #a2f5b5 !important;" /></td>
                            <td><input class="plain" type="text" th:name="'items[' + ${iterStat.index} + '].dvlctn'" th:value="${r.dvlctn}" th:attr="data-original=${r.dvlctn}" data-tabla="T03OG3P" maxlength="6"  /></td>
                            <td><input class="plain" type="text" th:name="'items[' + ${iterStat.index} + '].stgstn'" th:value="${r.stgstn}" th:attr="data-original=${r.stgstn}" data-tabla="T03OG3P" maxlength="3" style="background-color: #a2f5b5 !important;" /></td>
                            <td><input class="plain" type="text" th:name="'items[' + ${iterStat.index} + '].tggrdr'" th:value="${r.tggrdr}" th:attr="data-original=${r.tggrdr}" data-tabla="T03OG3P" maxlength="10" style="background-color: #a2f5b5 !important;" /></td>
                            <td><input class="plain" type="text" th:name="'items[' + ${iterStat.index} + '].sdspdt'" th:value="${r.sdspdt}" th:attr="data-original=${r.sdspdt}" data-tabla="T03OG3P" maxlength="8" /></td>
                            <td><input class="plain" type="text" th:name="'items[' + ${iterStat.index} + '].sdsptm'" th:value="${r.sdsptm}" th:attr="data-original=${r.sdsptm}" data-tabla="T03OG3P" maxlength="3" /></td>
                            </tr>
                        </tbody>
                    </table>
                </li>
                <li class="table-wrapper">
                    <h3>T02OG2P</h3>
                    <table class="fixed-table">
                        <thead>
                            <tr>
                                <th>Tren</th>
                                <th>Ship cat</th>
                                <th>Cart seq#</th>
                                <th>Card id</th>
                                <th>Delivery Loc</th>
                                <th>Card type</th>
                                <th>Scheduled Dis Date</th>
                                <th>Scheduled Dis Time</th>
                                <th>Cart Lic Plate</th>
                                <th>Cart Connect</th>
                                <th>Cart Fla Sts</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr th:each="r, iterStat : ${t02}">
                                <td style="display:none;"><input type="hidden" th:name="'items[' + ${iterStat.index} + '].spare3'" th:value="${r.spare3}" th:attr="data-original=${r.spare3}" data-tabla="T02OG2P"/></td>
                            <td><input class="plain" type="text" th:name="'items[' + ${iterStat.index} + '].train'"  th:value="${r.train}"  th:attr="data-original=${r.train}"  data-tabla="T02OG2P" maxlength="8" /></td>
                            <td><input class="plain" type="text" th:name="'items[' + ${iterStat.index} + '].ogsctg'" th:value="${r.ogsctg}" th:attr="data-original=${r.ogsctg}" data-tabla="T02OG2P" maxlength="2" /></td>
                            <td><input class="plain" type="text" th:name="'items[' + ${iterStat.index} + '].crtseq'" th:value="${r.crtseq}" th:attr="data-original=${r.crtseq}" data-tabla="T02OG2P" maxlength="1" /></td>
                            <td><input class="plain" type="text" th:name="'items[' + ${iterStat.index} + '].crtid'"  th:value="${r.crtid}"  th:attr="data-original=${r.crtid}"  data-tabla="T02OG2P" maxlength="8" /></td>
                            <td><input class="plain" type="text" th:name="'items[' + ${iterStat.index} + '].dvlctn'" th:value="${r.dvlctn}" th:attr="data-original=${r.dvlctn}" data-tabla="T02OG2P" maxlength="6" /></td>
                            <td><input class="plain" type="text" th:name="'items[' + ${iterStat.index} + '].crttyp'" th:value="${r.crttyp}" th:attr="data-original=${r.crttyp}" data-tabla="T02OG2P" maxlength="2"/></td>
                            <td><input class="plain" type="text" th:name="'items[' + ${iterStat.index} + '].sdspdt'" th:value="${r.sdspdt}" th:attr="data-original=${r.sdspdt}" data-tabla="T02OG2P" maxlength="8" /></td>
                            <td><input class="plain" type="text" th:name="'items[' + ${iterStat.index} + '].sdspmt'" th:value="${r.sdspmt}" th:attr="data-original=${r.sdspmt}" data-tabla="T02OG2P" maxlength="4" /></td>
                            <td><input class="plain" type="text" th:name="'items[' + ${iterStat.index} + '].crtlpt'" th:value="${r.crtlpt}" th:attr="data-original=${r.crtlpt}" data-tabla="T02OG2P"  /></td>
                            <td><input class="plain" type="text" th:name="'items[' + ${iterStat.index} + '].cntflg'" th:value="${r.cntflg}" th:attr="data-original=${r.cntflg}" data-tabla="T02OG2P" /></td>
                            <td><input class="plain" type="text" th:name="'items[' + ${iterStat.index} + '].crtsts'" th:value="${r.crtsts}" th:attr="data-original=${r.crtsts}" data-tabla="T02OG2P"  /></td>
                            </tr>
                        </tbody>
                    </table>
                </li>

                <li class="table-wrapper">
                    <h3>T01OG1P</h3>
                    <table class="fixed-table">
                        <thead>
                            <tr>
                                <th>Cart Sec</th>
                                <th>Container Secuence</th>
                                <th>MBPN</th>
                                <th>Color</th>
                                <th>Year</th>
                                <th>Model</th>
                                <th>Supplier Code</th>
                                <th>Sup Loc</th>
                                <th>Cart Lic Plate</th>
                                <th>Cart Id</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr th:each="r, iterStat : ${t01}">
                            <td style="display:none;"><input type="hidden" th:name="'items[' + ${iterStat.index} + '].spare3'" th:value="${r.spare3}" th:attr="data-original=${r.spare3}" data-tabla="T01OG1P"/></td>
                            <td style="display:none;"><input type="hidden" th:name="'items[' + ${iterStat.index} + '].fcasplsp'" th:value="${r.fcasplsp}" th:attr="data-original=${r.fcasplsp}" data-tabla="T01OG1P" /></td>
                            <td><input class="plain" type="text" th:name="'items[' + ${iterStat.index} + '].crtseq'" th:value="${r.crtseq}" th:attr="data-original=${r.crtseq}" data-tabla="T01OG1P" maxlength="1" /></td>
                            <td><input class="plain" type="text" th:name="'items[' + ${iterStat.index} + '].cntpsq'" th:value="${r.cntpsq}" th:attr="data-original=${r.cntpsq}" data-tabla="T01OG1P" maxlength="1"/></td>
                            <td><input class="plain" type="text" th:name="'items[' + ${iterStat.index} + '].mbpn'"   th:value="${r.mbpn}"   th:attr="data-original=${r.mbpn}"   data-tabla="T01OG1P" maxlength="14" /></td>
                            <td><input class="plain" type="text" th:name="'items[' + ${iterStat.index} + '].ptclr'"  th:value="${r.ptclr}"  th:attr="data-original=${r.ptclr}"  data-tabla="T01OG1P" /></td>
                            <td><input class="plain" type="text" th:name="'items[' + ${iterStat.index} + '].year'"   th:value="${r.year}"   th:attr="data-original=${r.year}"   data-tabla="T01OG1P" maxlength="1" /></td>
                            <td><input class="plain" type="text" th:name="'items[' + ${iterStat.index} + '].model'"  th:value="${r.model}"  th:attr="data-original=${r.model}"  data-tabla="T01OG1P" maxlength="3" /></td>
                            <td><input class="plain" type="text" th:name="'items[' + ${iterStat.index} + '].supcde'" th:value="${r.supcde}" th:attr="data-original=${r.supcde}" data-tabla="T01OG1P" maxlength="6" /></td>
                            <td><input class="plain" type="text" th:name="'items[' + ${iterStat.index} + '].splctn'" th:value="${r.splctn}" th:attr="data-original=${r.splctn}" data-tabla="T01OG1P" maxlength="2" /></td>
                            <td><input class="plain" type="text" th:name="'items[' + ${iterStat.index} + '].crtlpt'" th:value="${r.crtlpt}" th:attr="data-original=${r.crtlpt}" data-tabla="T01OG1P" style="background-color: #a2f5b5 !important;" /></td>
                            <td><input class="plain" type="text" th:name="'items[' + ${iterStat.index} + '].crtid'"  th:value="${r.crtid}"  th:attr="data-original=${r.crtid}"  data-tabla="T01OG1P" maxlength="8" /></td>
                            </tr>
                        </tbody>
                    </table>
                </li>
                </div>
                <div class="columna derecha">
                 <li class="table-wrapper">
                    <h3>GCCCASHD00</h3>
                    <table class="fixed-table">
                        <thead>
                            <tr>
                                <th>Checksheet Number</th>
                                <th>Lrg/Smi Part</th>
                                <th>Status Code</th>
                                <th>Packing User ID</th>
                                <th>Eligible Pack for Car</th>
                                <th>Cart Lic plate</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr th:each="r, iterStat : ${chd}">
                                
                            <td><input class="plain" type="text" th:name="'items[' + ${iterStat.index} + '].fcaschs'"  th:value="${r.fcaschs}"  th:attr="data-original=${r.fcaschs}"   data-tabla="GCCCASHD00" maxlength="16" /></td>
                            <td><input class="plain" type="text" th:name="'items[' + ${iterStat.index} + '].fcasplsp'" th:value="${r.fcasplsp}" th:attr="data-original=${r.fcasplsp}"  data-tabla="GCCCASHD00" maxlength="1" /></td>
                            <td><input class="plain" type="text" th:name="'items[' + ${iterStat.index} + '].fcascsts'" th:value="${r.fcascsts}" th:attr="data-original=${r.fcascsts}"  data-tabla="GCCCASHD00" maxlength="2" /></td>
                            <td><input class="plain" type="text" th:name="'items[' + ${iterStat.index} + '].fcaspcku'" th:value="${r.fcaspcku}" th:attr="data-original=${r.fcaspcku}"  data-tabla="GCCCASHD00" /></td>
                            <td><input class="plain" type="text" th:name="'items[' + ${iterStat.index} + '].fcasepst'" th:value="${r.fcasepst}" th:attr="data-original=${r.fcasepst}"  data-tabla="GCCCASHD00" /></td>
                            <td><input class="plain" type="text" th:name="'items[' + ${iterStat.index} + '].fcascrtñ'" th:value="${r.fcascrtñ}" th:attr="data-original=${r.fcascrtñ}"  data-tabla="GCCCASHD00" /></td>
                            
                            </tr>
                        </tbody>
                    </table>
                </li>

                <li class="table-wrapper">
                    <h3>GCCCASDT00</h3>
                    <table class="fixed-table">
                        <thead>
                            <tr>
                                <th>Checksheet Number</th>
                                <th>Case Seq#</th>
                                <th>Part Number</th>
                                <th>Part Color</th>
                                <th>Order Quantity</th>
                                <th>Container Seq#</th>
                                <th>Content Tag ID#</th>
                                <th>Lrg/Smi Part</th>
                                <th>Part Status</th>
                                <th>Shipped Qty</th>
                                <th>Short Qty</th>
                                <th>LPN# Shipped</th>
                                <th>Pack User</th>
                                <th>Pack Timestamp</th>
                                <th>MCID#</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr th:each="r, iterStat : ${cdt}">
                                <td style="display:none;"><input type="hidden" th:name="'items[' + ${iterStat.index} + '].fcastrnñ'" th:value="${r.fcastrnñ}" th:attr="data-original=${r.fcastrnñ}" data-tabla="GCCCASDT00"/></td>
                            <td><input class="plain" type="text" th:name="'items[' + ${iterStat.index} + '].fcaschs'"  th:value="${r.fcaschs}"  th:attr="data-original=${r.fcaschs}"   data-tabla="GCCCASDT00" maxlength="16" /></td>
                            <td><input class="plain" type="text" th:name="'items[' + ${iterStat.index} + '].fcascasq'" th:value="${r.fcascasq}" th:attr="data-original=${r.fcascasq}"  data-tabla="GCCCASDT00" maxlength="1"/></td>
                            <td><input class="plain" type="text" th:name="'items[' + ${iterStat.index} + '].fcasprt'"  th:value="${r.fcasprt}"  th:attr="data-original=${r.fcasprt}"   data-tabla="GCCCASDT00" maxlength="16"/></td>
                            <td><input class="plain" type="text" th:name="'items[' + ${iterStat.index} + '].fcaspclr'" th:value="${r.fcaspclr}" th:attr="data-original=${r.fcaspclr}"  data-tabla="GCCCASDT00" /></td>
                            <td><input class="plain" type="text" th:name="'items[' + ${iterStat.index} + '].fcasoqty'" th:value="${r.fcasoqty}" th:attr="data-original=${r.fcasoqty}"  data-tabla="GCCCASDT00" maxlength="2" /></td>
                            <td><input class="plain" type="text" th:name="'items[' + ${iterStat.index} + '].fcascsq'"  th:value="${r.fcascsq}"  th:attr="data-original=${r.fcascsq}"   data-tabla="GCCCASDT00" maxlength="4" /></td>
                            <td><input class="plain" type="text" th:name="'items[' + ${iterStat.index} + '].fcascid'"  th:value="${r.fcascid}"  th:attr="data-original=${r.fcascid}"   data-tabla="GCCCASDT00" maxlength="10"/></td>
                            <td><input class="plain" type="text" th:name="'items[' + ${iterStat.index} + '].fcasplsp'" th:value="${r.fcasplsp}" th:attr="data-original=${r.fcasplsp}"  data-tabla="GCCCASDT00" maxlength="1" /></td>
                            <td><input class="plain" type="text" th:name="'items[' + ${iterStat.index} + '].fcaspsts'" th:value="${r.fcaspsts}" th:attr="data-original=${r.fcaspsts}"  data-tabla="GCCCASDT00" maxlength="2" /></td>
                            <td><input class="plain" type="text" th:name="'items[' + ${iterStat.index} + '].fcasshpq'" th:value="${r.fcasshpq}" th:attr="data-original=${r.fcasshpq}"  data-tabla="GCCCASDT00" maxlength="1" /></td>
                            <td><input class="plain" type="text" th:name="'items[' + ${iterStat.index} + '].fcasshrq'" th:value="${r.fcasshrq}" th:attr="data-original=${r.fcasshrq}"  data-tabla="GCCCASDT00" maxlength="1" /></td>
                            <td><input class="plain" type="text" th:name="'items[' + ${iterStat.index} + '].fcaslpn'"  th:value="${r.fcaslpn}"  th:attr="data-original=${r.fcaslpn}"   data-tabla="GCCCASDT00" /></td>
                            <td><input class="plain" type="text" th:name="'items[' + ${iterStat.index} + '].fcaspusr'" th:value="${r.fcaspusr}" th:attr="data-original=${r.fcaspusr}"  data-tabla="GCCCASDT00" /></td>
                            <td><input class="plain" type="text" th:name="'items[' + ${iterStat.index} + '].fcaspadt'" th:value="${r.fcaspadt}" th:attr="data-original=${r.fcaspadt}"  data-tabla="GCCCASDT00" /></td>
                            <td><input class="plain" type="text" th:name="'items[' + ${iterStat.index} + '].fcasmcid'" th:value="${r.fcasmcid}" th:attr="data-original=${r.fcasmcid}"  data-tabla="GCCCASDT00" /></td>
                            </tr>
                        </tbody>
                    </table>
                </li>

                <li class="table-wrapper">
                    <h3>T07SPRP</h3>
                    <table class="fixed-table">
                        <thead>
                            <tr>
                                <th>OG Plant Code</th>
                                <th>OG Ship Category</th>
                                <th>OG Month</th>
                                <th>OG RRN</th>
                                <th>TRAIN Number</th>
                                <th>CARD ID</th>
                                <th>Cart Seq</th>
                                <th>Cart Pos</th>
                                <th>Cart Seq#</th>
                                <th>MBPN</th>
                                <th>Color</th>
                                <th>Year</th>
                                <th>Model</th>
                                <th>MCID</th>
                                <th>Shipped Qty</th>
                                <th>Cart Lic Plate</th>
                                <th>Label Serial #</th>
                                <th>Scheduled Dispatch Date</th>
                                <th>Scheduled Dispatch Time</th>
                                <th>Actual Delivery Date</th>
                                <th>Actual Delivery Time</th>
                                <th>ADN Flag</th>
                                <th>ADN Date</th>
                                <th>ADN TIME</th>
                                <th>Actual Dispatch Date</th>
                                <th>Actual Dispatch Time</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr th:each="r, iterStat : ${t07}">
                                <td style="display:none;"><input type="hidden" th:name="'items[' + ${iterStat.index} + '].spare3'" th:value="${r.spare3}" th:attr="data-original=${r.spare3}" data-tabla="T07SPRP"/></td>
                            <td><input class="plain" type="text" th:name="'items[' + ${iterStat.index} + '].ogplcd'"  th:value="${r.ogplcd}" th:attr="data-original=${r.ogplcd}"  data-tabla="T07SPRP" /></td>
                            <td><input class="plain" type="text" th:name="'items[' + ${iterStat.index} + '].ogsctg'"  th:value="${r.ogsctg}" th:attr="data-original=${r.ogsctg}"  data-tabla="T07SPRP" /></td>
                            <td><input class="plain" type="text" th:name="'items[' + ${iterStat.index} + '].ogcrmm'"  th:value="${r.ogcrmm}" th:attr="data-original=${r.ogcrmm}"  data-tabla="T07SPRP" /></td>
                            <td><input class="plain" type="text" th:name="'items[' + ${iterStat.index} + '].ogrrn'"   th:value="${r.ogrrn}"  th:attr="data-original=${r.ogrrn}"   data-tabla="T07SPRP" /></td>
                            <td><input class="plain" type="text" th:name="'items[' + ${iterStat.index} + '].train'"   th:value="${r.train}"  th:attr="data-original=${r.train}"   data-tabla="T07SPRP" /></td>
                            <td><input class="plain" type="text" th:name="'items[' + ${iterStat.index} + '].crtid'"   th:value="${r.crtid}"  th:attr="data-original=${r.crtid}"   data-tabla="T07SPRP" /></td>
                            <td><input class="plain" type="text" th:name="'items[' + ${iterStat.index} + '].cntpsq'"  th:value="${r.cntpsq}" th:attr="data-original=${r.cntpsq}"  data-tabla="T07SPRP" /></td>
                            <td><input class="plain" type="text" th:name="'items[' + ${iterStat.index} + '].cntptn'"  th:value="${r.cntptn}" th:attr="data-original=${r.cntptn}"  data-tabla="T07SPRP" /></td>
                            <td><input class="plain" type="text" th:name="'items[' + ${iterStat.index} + '].crtseq'"  th:value="${r.crtseq}" th:attr="data-original=${r.crtseq}"  data-tabla="T07SPRP" /></td>
                            <td><input class="plain" type="text" th:name="'items[' + ${iterStat.index} + '].mbpn'"    th:value="${r.mbpn}"   th:attr="data-original=${r.mbpn}"    data-tabla="T07SPRP" /></td>
                            <td><input class="plain" type="text" th:name="'items[' + ${iterStat.index} + '].ptclr'"   th:value="${r.ptclr}"  th:attr="data-original=${r.ptclr}"   data-tabla="T07SPRP" /></td>
                            <td><input class="plain" type="text" th:name="'items[' + ${iterStat.index} + '].year'"    th:value="${r.year}"   th:attr="data-original=${r.year}"    data-tabla="T07SPRP" /></td>
                            <td><input class="plain" type="text" th:name="'items[' + ${iterStat.index} + '].model'"   th:value="${r.model}"  th:attr="data-original=${r.model}"   data-tabla="T07SPRP" /></td>
                            <td><input class="plain" type="text" th:name="'items[' + ${iterStat.index} + '].mcid'"    th:value="${r.mcid}"   th:attr="data-original=${r.mcid}"    data-tabla="T07SPRP" /></td>
                            <td><input class="plain" type="text" th:name="'items[' + ${iterStat.index} + '].shpqty'"  th:value="${r.shpqty}" th:attr="data-original=${r.shpqty}"  data-tabla="T07SPRP" /></td>
                            <td><input class="plain" type="text" th:name="'items[' + ${iterStat.index} + '].crtlpt'"  th:value="${r.crtlpt}" th:attr="data-original=${r.crtlpt}"  data-tabla="T07SPRP" /></td>
                            <td><input class="plain" type="text" th:name="'items[' + ${iterStat.index} + '].lblsno'"  th:value="${r.lblsno}" th:attr="data-original=${r.lblsno}"  data-tabla="T07SPRP" /></td>
                            <td><input class="plain" type="text" th:name="'items[' + ${iterStat.index} + '].sdspdt'"  th:value="${r.sdspdt}" th:attr="data-original=${r.sdspdt}"  data-tabla="T07SPRP" /></td>
                            <td><input class="plain" type="text" th:name="'items[' + ${iterStat.index} + '].sdssptm'" th:value="${r.sdsptm}" th:attr="data-original=${r.sdsptm}"  data-tabla="T07SPRP" /></td>
                            <td><input class="plain" type="text" th:name="'items[' + ${iterStat.index} + '].deldat'"  th:value="${r.deldat}" th:attr="data-original=${r.deldat}"  data-tabla="T07SPRP" /></td>
                            <td><input class="plain" type="text" th:name="'items[' + ${iterStat.index} + '].deltim'"  th:value="${r.deltim}" th:attr="data-original=${r.deltim}"  data-tabla="T07SPRP" /></td>
                            <td><input class="plain" type="text" th:name="'items[' + ${iterStat.index} + '].adnflg'"  th:value="${r.adnflg}" th:attr="data-original=${r.adnflg}"  data-tabla="T07SPRP" /></td>
                            <td><input class="plain" type="text" th:name="'items[' + ${iterStat.index} + '].adndat'"  th:value="${r.adndat}" th:attr="data-original=${r.adndat}"  data-tabla="T07SPRP" /></td>
                            <td><input class="plain" type="text" th:name="'items[' + ${iterStat.index} + '].adntim'"  th:value="${r.adntim}" th:attr="data-original=${r.adntim}"  data-tabla="T07SPRP" /></td>
                            <td><input class="plain" type="text" th:name="'items[' + ${iterStat.index} + '].adspdt'"  th:value="${r.adspdt}" th:attr="data-original=${r.adspdt}"  data-tabla="T07SPRP" /></td>
                            <td><input class="plain" type="text" th:name="'items[' + ${iterStat.index} + '].adsptm'"  th:value="${r.adsptm}" th:attr="data-original=${r.adsptm}"  data-tabla="T07SPRP" /></td>
                            </tr>
                        </tbody>
                    </table>
                </li>

                <li class="table-wrapper">
                    <h3>GCCSRTMS00</h3>
                    <table class="fixed-table">
                        <thead>
                            <tr>
                                <th>Train Number</th>
                                <th>Checksheet Number</th>
                                <th>Part Number</th>
                                <th>Part Color</th>
                                <th>Order Quantity</th>
                                <th>Content Tag ID#</th>
                                <th>Container Status</th>
                                <th>Shipped Qty</th>
                                <th>Short Qty</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr th:each="r, iterStat : ${sm}">
                               <td><input class="plain" type="text" th:name="'items[' + ${iterStat.index} + '].fsrttrn'"  th:value="${r.fsrttrn}"  th:attr="data-original=${r.fsrttrn}"   data-tabla="GCCSRTMS00" /></td>
                            <td><input class="plain" type="text" th:name="'items[' + ${iterStat.index} + '].fsrtchs'"  th:value="${r.fsrtchs}"  th:attr="data-original=${r.fsrtchs}"   data-tabla="GCCSRTMS00" /></td>
                            <td><input class="plain" type="text" th:name="'items[' + ${iterStat.index} + '].fsrtprt'"  th:value="${r.fsrtprt}"  th:attr="data-original=${r.fsrtprt}"   data-tabla="GCCSRTMS00" /></td>
                            <td><input class="plain" type="text" th:name="'items[' + ${iterStat.index} + '].fsrtpclr'" th:value="${r.fsrtpclr}" th:attr="data-original=${r.fsrtpclr}"   data-tabla="GCCSRTMS00" /></td>
                            <td><input class="plain" type="text" th:name="'items[' + ${iterStat.index} + '].fsrtoqty'" th:value="${r.fsrtoqty}" th:attr="data-original=${r.fsrtoqty}"   data-tabla="GCCSRTMS00" /></td>
                            <td><input class="plain" type="text" th:name="'items[' + ${iterStat.index} + '].fsrtcids'" th:value="${r.fsrtcids}" th:attr="data-original=${r.fsrtcids}"   data-tabla="GCCSRTMS00" /></td>
                            <td><input class="plain" type="text" th:name="'items[' + ${iterStat.index} + '].fsrtcsts'" th:value="${r.fsrtcsts}" th:attr="data-original=${r.fsrtcsts}"   data-tabla="GCCSRTMS00" /></td>
                            <td><input class="plain" type="text" th:name="'items[' + ${iterStat.index} + '].fsrtshpq'" th:value="${r.fsrtshpq}" th:attr="data-original=${r.fsrtshpq}"   data-tabla="GCCSRTMS00" /></td>
                            <td><input class="plain" type="text" th:name="'items[' + ${iterStat.index} + '].fsrtshrq'" th:value="${r.fsrtshrq}" th:attr="data-original=${r.fsrtshrq}"   data-tabla="GCCSRTMS00" /></td>
                            </tr>
                        </tbody>
                    </table>
                </li>
                </div>
            </div>
        </div>
    </div>

    <div id="tab2" class="tab-content" style="display:none;">
        <div class="container">
            <!-- Texto en la parte superior -->


            <!-- Cajas de texto -->
            <!-- Mostrar cajas vacías si la lista está vacía -->


            <!-- Mostrar cajas con datos si la lista tiene elementos -->
            <div class="cajas" th:if="${tipoFiltro == 'tren'}" th:each="r, iterStat : ${bthh}">

                <div class="cajas">
                    <div class="caja-item">
                        <label for="caja1">#Batch:</label>
                        <input type="text" th:name="'items[' + ${iterStat.index} + '].fbthbthñ'"
                            th:value="${r.fbthbthñ}" th:attr="data-original=${r.fbthbthñ}" data-tabla="GCMBTHHD00"
                            readonly id="caja1" />
                    </div>
                    <div class="caja-item">
                        <label for="caja2">Plan Code:</label>
                        <input type="text" th:name="'items[' + ${iterStat.index} + '].fbthplcd'"
                            th:value="${r.fbthplcd}" th:attr="data-original=${r.fbthplcd}" data-tabla="GCMBTHHD00"
                            readonly id="caja2" />
                    </div>
                    <div class="caja-item">
                        <label for="caja3">Status:</label>
                        <input type="text" th:name="'items[' + ${iterStat.index} + '].fbthstsc'"
                            th:value="${r.fbthstsc}" th:attr="data-original=${r.fbthstsc}" data-tabla="GCMBTHHD00"
                            id="caja3" />
                    </div>
                    <div class="caja-item">
                        <label for="caja4">Steging:</label>
                        <input type="text" th:name="'items[' + ${iterStat.index} + '].fbthstgl'"
                            th:value="${r.fbthstgl}" th:attr="data-original=${r.fbthstgl}" data-tabla="GCMBTHHD00"
                            readonly id="caja4" />
                    </div>
                    <div class="caja-item">
                        <label for="caja5">Delivery Zone:</label>
                        <input type="text" th:name="'items[' + ${iterStat.index} + '].fbthdzon'"
                            th:value="${r.fbthdzon}" th:attr="data-original=${r.fbthdzon}" data-tabla="GCMBTHHD00"
                            readonly id="caja5" />
                    </div>
                    <div class="caja-item">
                        <label for="caja6">Ship Category:</label>
                        <input type="text" th:name="'items[' + ${iterStat.index} + '].fbthsctg'"
                            th:value="${r.fbthsctg}" th:attr="data-original=${r.fbthsctg}" data-tabla="GCMBTHHD00"
                            readonly id="caja6" />
                    </div>
                    <div class="caja-item">
                        <label for="caja7">Usuario:</label>
                        <input type="text" th:name="'items[' + ${iterStat.index} + '].fbthcusr'"
                            th:value="${r.fbthcusr}" th:attr="data-original=${r.fbthcusr}" data-tabla="GCMBTHHD00"
                            id="caja7" />
                    </div>
                    <div class="caja-item">
                        <label for="caja8">Batch CST:</label>
                        <input type="text" th:name="'items[' + ${iterStat.index} + '].fbthplst'"
                            th:value="${r.fbthplst}" th:attr="data-original=${r.fbthplst}" data-tabla="GCMBTHHD00"
                            readonly id="caja5" />
                    </div>
                </div>

            </div>

            <div class="cajas" th:if="${tipoFiltro == 'batch'}" th:each="r, iterStat : ${bachh}">
                <!-- Misma estructura que arriba -->
                <div class="cajas">
                    <div class="caja-item">
                        <label for="caja1">#Batch:</label>
                        <input type="text" th:name="'items[' + ${iterStat.index} + '].fbthbthñ'"
                            th:value="${r.fbthbthñ}" th:attr="data-original=${r.fbthbthñ}" data-tabla="GCMBTHHD00"
                            readonly id="caja1" />
                    </div>
                    <div class="caja-item">
                        <label for="caja2">Plan Code:</label>
                        <input type="text" th:name="'items[' + ${iterStat.index} + '].fbthplcd'"
                            th:value="${r.fbthplcd}" th:attr="data-original=${r.fbthplcd}" data-tabla="GCMBTHHD00"
                            readonly id="caja2" />
                    </div>
                    <div class="caja-item">
                        <label for="caja3">Status:</label>
                        <input type="text" th:name="'items[' + ${iterStat.index} + '].fbthstsc'"
                            th:value="${r.fbthstsc}" th:attr="data-original=${r.fbthstsc}" data-tabla="GCMBTHHD00"
                            id="caja3" />
                    </div>
                    <div class="caja-item">
                        <label for="caja4">Steging:</label>
                        <input type="text" th:name="'items[' + ${iterStat.index} + '].fbthstgl'"
                            th:value="${r.fbthstgl}" th:attr="data-original=${r.fbthstgl}" data-tabla="GCMBTHHD00"
                            readonly id="caja4" />
                    </div>
                    <div class="caja-item">
                        <label for="caja5">Delivery Zone:</label>
                        <input type="text" th:name="'items[' + ${iterStat.index} + '].fbthdzon'"
                            th:value="${r.fbthdzon}" th:attr="data-original=${r.fbthdzon}" data-tabla="GCMBTHHD00"
                            readonly id="caja5" />
                    </div>
                    <div class="caja-item">
                        <label for="caja6">Ship Category:</label>
                        <input type="text" th:name="'items[' + ${iterStat.index} + '].fbthsctg'"
                            th:value="${r.fbthsctg}" th:attr="data-original=${r.fbthsctg}" data-tabla="GCMBTHHD00"
                            readonly id="caja6" />
                    </div>
                    <div class="caja-item">
                        <label for="caja7">Usuario:</label>
                        <input type="text" th:name="'items[' + ${iterStat.index} + '].fbthcusr'"
                            th:value="${r.fbthcusr}" th:attr="data-original=${r.fbthcusr}" data-tabla="GCMBTHHD00"
                            id="caja7" />
                    </div>
                    <div class="caja-item">
                        <label for="caja8">Batch CST:</label>
                        <input type="text" th:name="'items[' + ${iterStat.index} + '].fbthplst'"
                            th:value="${r.fbthplst}" th:attr="data-original=${r.fbthplst}" data-tabla="GCMBTHHD00"
                            readonly id="caja5" />
                    </div>
                </div>
            </div>





            <!-- Contenedor de tabla -->
            <ul class="tables-list">
                <li class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>Multiple Trn Batch Number</th>
                                <th>Multiple Status Code</th>
                                <th>Multiple Trn Train Nbr</th>
                                <th>Multiple Trn Orig Div Seq#</th>
                                <th>Multiple Repres Flag</th>
                                <th>Multiple Trn Create TimeStap</th>
                                <th>Multiple Trn Create User</th>
                            </tr>
                        </thead>
                        <tbody th:if="${tipoFiltro == 'tren'}" th:each="r, iterStat : ${bth}">
                            <tr>
                                <td><input class="plain" type="text"
                                        th:name="'items[' + ${iterStat.index} + '].fbtdbth'" th:value="${r.fbtdbth}"
                                        th:attr="data-original=${r.fbtdbth}" data-tabla="GCMBTHDT00" readonly /></td>
                                <td><input class="plain" type="text"
                                        th:name="'items[' + ${iterStat.index} + '].fbtdstsc'" th:value="${r.fbtdstsc}"
                                        th:attr="data-original=${r.fbtdstsc}" data-tabla="GCMBTHDT00" /></td>
                                <td><input class="plain" type="text"
                                        th:name="'items[' + ${iterStat.index} + '].fbtdtrn'" th:value="${r.fbtdtrn}"
                                        th:attr="data-original=${r.fbtdtrn}" data-tabla="GCMBTHDT00" readonly /></td>
                                <td><input class="plain" type="text"
                                        th:name="'items[' + ${iterStat.index} + '].fbtdseq'" th:value="${r.fbtdseq}"
                                        th:attr="data-original=${r.fbtdseq}" data-tabla="GCMBTHDT00" readonly /></td>
                                <td><input class="plain" type="text"
                                        th:name="'items[' + ${iterStat.index} + '].fbtdtrfl'" th:value="${r.fbtdtrfl}"
                                        th:attr="data-original=${r.fbtdtrfl}" data-tabla="GCMBTHDT00" readonly /></td>
                                <td><input class="plain" type="text"
                                        th:name="'items[' + ${iterStat.index} + '].fbtdctms'" th:value="${r.fbtdctms}"
                                        th:attr="data-original=${r.fbtdctms}" data-tabla="GCMBTHDT00" readonly /></td>
                                <td><input class="plain" type="text"
                                        th:name="'items[' + ${iterStat.index} + '].fbtdcusr'" th:value="${r.fbtdcusr}"
                                        th:attr="data-original=${r.fbtdcusr}" data-tabla="GCMBTHDT00" /></td>


                            </tr>
                        </tbody>
                        <tbody th:if="${tipoFiltro == 'batch'}" th:each="r, iterStat : ${bach}">
                            <tr>
                                <td><input class="plain" type="text"
                                        th:name="'items[' + ${iterStat.index} + '].fbtdbth'" th:value="${r.fbtdbth}"
                                        th:attr="data-original=${r.fbtdbth}" data-tabla="GCMBTHDT00" readonly /></td>
                                <td><input class="plain" type="text"
                                        th:name="'items[' + ${iterStat.index} + '].fbtdstsc'" th:value="${r.fbtdstsc}"
                                        th:attr="data-original=${r.fbtdstsc}" data-tabla="GCMBTHDT00" /></td>
                                <td><input class="plain" type="text"
                                        th:name="'items[' + ${iterStat.index} + '].fbtdtrn'" th:value="${r.fbtdtrn}"
                                        th:attr="data-original=${r.fbtdtrn}" data-tabla="GCMBTHDT00" readonly /></td>
                                <td><input class="plain" type="text"
                                        th:name="'items[' + ${iterStat.index} + '].fbtdseq'" th:value="${r.fbtdseq}"
                                        th:attr="data-original=${r.fbtdseq}" data-tabla="GCMBTHDT00" readonly /></td>
                                <td><input class="plain" type="text"
                                        th:name="'items[' + ${iterStat.index} + '].fbtdtrfl'" th:value="${r.fbtdtrfl}"
                                        th:attr="data-original=${r.fbtdtrfl}" data-tabla="GCMBTHDT00" readonly /></td>
                                <td><input class="plain" type="text"
                                        th:name="'items[' + ${iterStat.index} + '].fbtdctms'" th:value="${r.fbtdctms}"
                                        th:attr="data-original=${r.fbtdctms}" data-tabla="GCMBTHDT00" readonly /></td>
                                <td><input class="plain" type="text"
                                        th:name="'items[' + ${iterStat.index} + '].fbtdcusr'" th:value="${r.fbtdcusr}"
                                        th:attr="data-original=${r.fbtdcusr}" data-tabla="GCMBTHDT00" /></td>


                            </tr>
                        </tbody>
                    </table>
                </li>
                </li>
        </div>
    </div>

    <script src="/js/scripts.js"></script>







    <!-- Overlay de carga -->
    <div id="overlay-loading" style="display: none;">
        <div class="spinner"></div>
        <span>Guardando cambios...</span>
    </div>

    <!-- Estilos del overlay -->
    <style>
        #overlay-loading {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: rgba(255, 255, 255, 0.85);
            z-index: 9999;
            display: none;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            font-family: sans-serif;
            font-size: 1.2rem;
            color: #333;
            cursor: wait;
        }

        .spinner {
            border: 6px solid #ccc;
            border-top: 6px solid #333;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin-bottom: 15px;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }
    </style>

</body>

</html>